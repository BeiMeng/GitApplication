@model TenantDto
@{
    var x = @Html.EasyUi();
}
@section head {
    <script type="text/javascript">
        $(function () {
            $.easyui.newRowUrl = "/Systems/Tenant/new";
        });
    </script>
}
@section top {
    @*工具栏*@
    <div class="toolbar">
        @x.Button("添加租户").Icon("icon-add4").Plain().ToolTip(R.RememberSave).AddRootByTreeGrid()
        @x.Button("添加下级租户").Icon("icon-add").Plain().ToolTip(R.RememberSave).AddToChildByTreeGrid()        
        @x.Button("编辑租户").Icon("icon-edit").Plain().ToolTip(R.RememberSave).EditByTreeGrid()
        @x.Button("取消编辑").Icon("icon-cancel2").Plain().CancelByTreeGrid()
        @x.Button("删除租户").Icon("icon-delete3").Plain().ToolTip(R.RememberSave).DeleteByTreeGrid()
        @x.Button("上 移").Icon("icon-up").Plain().ToolTip(R.RememberSave).MoveUpByTreeGrid()
        @x.Button("下 移").Icon("icon-down").Plain().ToolTip(R.RememberSave).MoveDownByTreeGrid()
        @x.Button("保 存").Icon("icon-save").Plain().SaveByTreeGrid("/Systems/Tenant/save")
        @x.Button("冻 结").Icon("icon-delete4").Plain().SubmitIdsByTreeGrid("/Systems/Tenant/disable")
        @x.Button("启 用").Icon("icon-ok2").Plain().SubmitIdsByTreeGrid("/Systems/Tenant/enable")
        @x.Button("刷 新").Icon("icon-refresh").Plain().RefreshByTreeGrid()
        @x.DialogButton("应用程序设置", "/systems/Tenant/editApplication").Id("btnEdit").Icon("icon-edit").Plain().DialogSize(420, 260).ShowEditDialog()
        @(x.DialogButton("应用程序设置", "/systems/Tenant/editApplication?TenantId=" + Model.Id).Icon("icon-add").Plain().DialogSize(1030, 510).DialogIcon("icon-rainbow").Title("应用程序设置——当前租户：" + Model.Text).OnInit("validateTenantId")
        )
    </div>
}
@section content {
    @*右键菜单*@
    @Html.Partial( "Menus/TreeGridMenu" )
    @*查询表单*@
    @Html.Partial( "Parts/QueryForm" )
    @*表格*@
    @(x.TreeGrid( "grid" ).Toolbar( "divQuery" ).Url( "/systems/tenant/query" )
        .Menu().Fit().EnableDrag()
        .Columns(
            x.GridColumn(t => t.Id).CheckBox(),
            x.GridColumn(t => t.Text, 200, true),
            x.GridColumn(t => t.Code, 100, true),
            x.GridColumn(t => t.ContactName, 100, true),
            x.GridColumn(t => t.Email, 100, true),
            x.GridColumn(t => t.Enabled, 60, true),
            x.GridColumn(t => t.TState, 100, true),
            x.GridColumn(t => t.SortId, 100, true),
            x.GridColumn(t => t.PinYin, 100),
            x.GridColumn(t => t.MobilePhone, 100, true),
            x.GridColumn(t => t.ProvinceId, 100, true),
            x.GridColumn(t => t.Province, 100, true),
            x.GridColumn(t => t.CityId, 100, true),
            x.GridColumn(t => t.City, 100, true),
            x.GridColumn(t => t.CountyId, 100, true),
            x.GridColumn(t => t.County, 100, true),
            x.GridColumn(t => t.Street, 100, true),
            x.GridColumn(t => t.Zip, 100, true),
            x.GridColumn(t => t.CreateTime, 120)
        )
    )
}